{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/PickupCounter.vue?8084","webpack:///./src/components/CraftableItems.vue?ab79","webpack:///./src/App.vue","webpack:///./src/components/PickupRecipe.vue","webpack:///./src/components/PickupIcon.vue?21a3","webpack:///./src/components/PickupIcon.vue","webpack:///./src/components/PickupIcon.vue?e35b","webpack:///./src/components/PickupRecipe.vue?ab06","webpack:///./src/components/PickupRecipe.vue?05d9","webpack:///./src/components/PickupCounter.vue","webpack:///./src/components/PickupCounter.vue?5f63","webpack:///./src/components/PickupCounter.vue?3bce","webpack:///./src/components/CraftableItems.vue","webpack:///./src/items.ts","webpack:///./src/crafting.ts","webpack:///./src/components/CraftableItems.vue?b70a","webpack:///./src/components/CraftableItems.vue?7ba7","webpack:///./src/components/CraftHistory.vue","webpack:///./src/components/CraftHistory.vue?c7d6","webpack:///./src/components/CraftHistory.vue?9b4e","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts","webpack:///./src/components/PickupIcon.vue?7c83","webpack:///./src/App.vue?126e","webpack:///./src/components/CraftHistory.vue?8dab"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","style","class","src","height","width","idList","craftingBag","resetBag","pickupCounters","line","idx","count","pickupCounts","addBag","resetPickups","clearHistory","searchFilter","pickupsInBag","filter","recipeClicked","selectedItem","recipeHistory","undo","ids","pickupIconStyle","pickupClicked","offsets","x","y","Math","floor","props","Number","emits","methods","this","$emit","computed","backgroundPosition","render","__scopeId","components","PickupIcon","Array","ret","mouseWheel","$event","type","min","max","inputCount","event","deltaY","set","shownItems","id","hoveredItem","selectItem","getItemStyle","items","img","shownItem","shownRecipes","recipe","loadItems","console","log","d3","xmlItems","querySelectorAll","item","getAttribute","String","toLowerCase","quality","description","xmlItemMetadata","pickupIdxList","pickupShifts","pickupValues","qualityBoundsList","rngShift","seed","shifts","itemPools","recurseCombinations","availablePickups","currentRecipe","counter","foundRecipes","pickupId","getCombinations","startingPickups","loadPools","xmlPools","xmlPool","pool","weight","getPoolWeights","poolWeights","combined","getQualityBounds","itemPoolIdx","totalValue","qualityBounds","recipeCache","Map","recipeToString","fromCharCode","craftItem","sortedRecipe","sort","a","b","cached","itemWeights","totalWeight","poolWeight","itemPool","seedMultiplier","target","PickupRecipe","default","isItemInSearch","itemName","search","borderStyle","borderColor","undefined","itemBorderColor","itemRecipeMap","map","combinations","recipes","recipeEntry","clear","PickupRecipeVue","PickupCounter","CraftableItems","CraftHistory","created","catch","e","addHeart","addPenny","craftedItem","craftBag","pickupsToRemove","pickup","pop","forEach","pickupsToAdd","App","mount"],"mappings":"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","file":"js/app.9161ee29.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/IsaacCraftingSimSite/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PickupCounter.vue?vue&type=style&index=0&id=28e9bd26&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CraftableItems.vue?vue&type=style&index=0&id=008483ed&lang=css\"","<template>\n  <div style=\"display: flex; flex: 1\">\n    <div class=\"sidePanel\">\n      Crafting Bag\n      <div style=\"font-size: 70%\">\n        Pickups that will have to be used.\n      </div>\n      <div style=\"display: flex; padding-top:10px; padding-bottom:5px\">\n        <img\n          :src=\"`./collectibles/collectibles_710_bagofcrafting.png`\"\n          style=\"image-rendering: crisp-edges\"\n          height=\"64\"\n          width=\"64\"\n        />\n        <pickup-recipe-vue v-bind:idList=\"craftingBag\" />\n        <button @click=\"resetBag\">Reset</button>\n      </div>\n      <div style=\"font-size: 70%; padding-bottom: 10px\">\n        Click on a pickup to add it to the bag.\n      </div>\n      <div class=\"pickupCountersPanel\">\n        Available Pickups\n        <div style=\"font-size: 70%\">\n          On the floor, or in your bag and replaceable\n        </div>\n        <div\n          v-for=\"line in pickupCounters\"\n          :key=\"line\"\n          style=\"display: flex; padding-top: 10px;\"\n        >\n          <pickup-counter\n            v-for=\"n in line\"\n            :key=\"n\"\n            :idx=\"n\"\n            v-model:count=\"pickupCounts[n]\"\n            @addBag=\"addBag\"\n          />\n        </div>\n        <button @click=\"resetPickups\">Clear Pickups</button>\n        <button @click=\"clearHistory\">Clear History</button>\n      </div>\n\n      <div class=\"filterPanel\">\n        Search\n        <input v-model=\"searchFilter\" />\n      </div>\n    </div>\n    <craftable-items\n      :pickupCounts=\"pickupCounts\"\n      :pickupsInBag=\"craftingBag\"\n      :filter=\"searchFilter\"\n      @recipeClicked=\"recipeClicked\"\n      v-model:selectedItem=\"selectedItem\"\n    />\n\n    <craft-history\n      :recipeHistory=\"recipeHistory\"\n      @undo=\"undo\"\n      @clear=\"clearHistory\"\n    />\n  </div>\n</template>\n\n<style>\n.sidePanel {\n  border: solid 5px gray;\n  border-right: 0;\n}\n.screen {\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n}\n.pickupCountersPanel {\n  padding-top: 10px;\n  padding-right: 10px;\n  padding-bottom: 10px;\n  border-top: 5px solid gray;\n}\n\n.filterPanel {\n  border-top: 5px solid gray;\n  padding-top: 10px;\n}\n\nbody {\n  background: lightgray;\n  image-rendering: crisp-edges;\n  image-rendering: pixelated;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport PickupRecipeVue from \"./components/PickupRecipe.vue\";\nimport PickupCounter from \"./components/PickupCounter.vue\";\nimport CraftableItems from \"./components/CraftableItems.vue\";\nimport { RecipeEntry } from \"./components/CraftHistory.vue\";\nimport CraftHistory from \"./components/CraftHistory.vue\";\nimport * as items from \"./items\";\nimport * as crafting from \"./crafting\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    PickupRecipeVue,\n    PickupCounter,\n    CraftableItems,\n    CraftHistory,\n  },\n\n  data() {\n    return {\n      craftingBag: [] as number[],\n      pickupCounts: {} as { [n: number]: number },\n      recipes: [] as number[][],\n      pickupCounters: [\n        [1, 2, 3, 4, 5, 6, 7],\n        [8, 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17],\n        [18, 19, 20],\n        [21, 22, 23, 24, 25],\n      ],\n      recipeHistory: [] as RecipeEntry[],\n      selectedItem: 0,\n      searchFilter: \"\",\n    };\n  },\n\n  created() {\n    (async () => {\n      await items.loadItems();\n      await crafting.loadPools();\n    })().catch((e) => {\n      console.log(e);\n    });\n  },\n\n  methods: {\n    addHeart() {\n      this.craftingBag = [...this.craftingBag, 1];\n    },\n\n    addPenny() {\n      this.craftingBag = [...this.craftingBag, 8];\n    },\n\n    resetBag() {\n      this.craftingBag = [];\n    },\n\n    resetPickups() {\n      for (let id in this.pickupCounts) {\n        this.pickupCounts[id] = 0;\n      }\n    },\n\n    addBag(id: number) {\n      if (this.craftingBag.length < 8)\n        this.craftingBag = [...this.craftingBag, id];\n    },\n\n    craftedItem(recipe: number[]) {\n      return crafting.craftItem(recipe);\n    },\n\n    recipeClicked(recipe: number[], item: number) {\n      this.recipeHistory.push({ recipe, craftBag: this.craftingBag, item });\n      const pickupsToRemove = recipe.slice(this.craftingBag.length);\n      for (const pickup of pickupsToRemove) {\n        this.pickupCounts[pickup] -= 1;\n      }\n      this.craftingBag = [];\n    },\n\n    undo() {\n      const recipeEntry = this.recipeHistory.pop();\n      if (recipeEntry) {\n        recipeEntry.craftBag.forEach((n) => this.addBag(n));\n        const pickupsToAdd = recipeEntry.recipe.slice(\n          recipeEntry.craftBag.length\n        );\n        pickupsToAdd.forEach((n) => (this.pickupCounts[n] += 1));\n        this.selectedItem = recipeEntry.item;\n      }\n    },\n\n    clearHistory() {\n      this.recipeHistory = [];\n    },\n  },\n});\n</script>\n","<template>\n  <div\n    style=\"width:128px; height:64px; display: grid; grid-template-rows: 32px 32px; grid-template-columns: 32px 32px 32px 32px\"\n  >\n    <pickup-icon v-bind:idx=\"ids[0]\" />\n    <pickup-icon v-bind:idx=\"ids[1]\" />\n    <pickup-icon v-bind:idx=\"ids[2]\" />\n    <pickup-icon v-bind:idx=\"ids[3]\" />\n    <pickup-icon v-bind:idx=\"ids[4]\" />\n    <pickup-icon v-bind:idx=\"ids[5]\" />\n    <pickup-icon v-bind:idx=\"ids[6]\" />\n    <pickup-icon v-bind:idx=\"ids[7]\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport PickupIcon from \"./PickupIcon.vue\";\n\nexport default defineComponent({\n  name: \"PickupRecipe\",\n  components: {\n    PickupIcon,\n  },\n  props: {\n    idList: Array,\n  },\n  data() {\n    return {};\n  },\n\n  computed: {\n    ids() {\n      let ret: number[] = [];\n      for (let i of this.idList ?? []) {\n        ret.push(Number(i));\n      }\n      while (ret.length < 8) {\n        ret.push(0);\n      }\n      return ret;\n    },\n  },\n});\n</script>\n","\nimport { defineComponent, watch } from \"vue\";\n\nconst offsets: string[] = [];\nfor (let i = 0; i < 32; ++i) {\n  const x = i % 8;\n  const y = Math.floor(i / 8);\n  offsets.push(`-${x * 32}px -${y * 32}px`);\n}\n\nexport default defineComponent({\n  name: \"PickupIcon\",\n  props: {\n    idx: Number,\n  },\n\n  data() {\n    return {\n      offsets,\n    };\n  },\n\n  emits: [\"pickupClicked\"],\n\n  methods: {\n    pickupClicked() {\n      this.$emit(\"pickupClicked\");\n    },\n  },\n\n  computed: {\n    pickupIconStyle(): any {\n      return {\n        backgroundPosition: this.offsets[this.idx ?? 0],\n      };\n    },\n  },\n});\n","<template>\n  <div\n    class=\"pickupIcon\"\n    v-bind:style=\"pickupIconStyle\"\n    @click=\"pickupClicked\"\n  ></div>\n</template>\n\n<style scoped>\n.pickupIcon {\n  background-image: url(\"../assets/ui_crafting.png\");\n  width: 32px;\n  height: 32px;\n  background-size: 256px;\n}\n</style>\n\n<script lang=\"ts\">\nimport { defineComponent, watch } from \"vue\";\n\nconst offsets: string[] = [];\nfor (let i = 0; i < 32; ++i) {\n  const x = i % 8;\n  const y = Math.floor(i / 8);\n  offsets.push(`-${x * 32}px -${y * 32}px`);\n}\n\nexport default defineComponent({\n  name: \"PickupIcon\",\n  props: {\n    idx: Number,\n  },\n\n  data() {\n    return {\n      offsets,\n    };\n  },\n\n  emits: [\"pickupClicked\"],\n\n  methods: {\n    pickupClicked() {\n      this.$emit(\"pickupClicked\");\n    },\n  },\n\n  computed: {\n    pickupIconStyle(): any {\n      return {\n        backgroundPosition: this.offsets[this.idx ?? 0],\n      };\n    },\n  },\n});\n</script>\n","import { render } from \"./PickupIcon.vue?vue&type=template&id=778eb0e0&scoped=true\"\nimport script from \"./PickupIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./PickupIcon.vue?vue&type=script&lang=ts\"\n\nimport \"./PickupIcon.vue?vue&type=style&index=0&id=778eb0e0&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-778eb0e0\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport PickupIcon from \"./PickupIcon.vue\";\n\nexport default defineComponent({\n  name: \"PickupRecipe\",\n  components: {\n    PickupIcon,\n  },\n  props: {\n    idList: Array,\n  },\n  data() {\n    return {};\n  },\n\n  computed: {\n    ids() {\n      let ret: number[] = [];\n      for (let i of this.idList ?? []) {\n        ret.push(Number(i));\n      }\n      while (ret.length < 8) {\n        ret.push(0);\n      }\n      return ret;\n    },\n  },\n});\n","import { render } from \"./PickupRecipe.vue?vue&type=template&id=1835c88a\"\nimport script from \"./PickupRecipe.vue?vue&type=script&lang=ts\"\nexport * from \"./PickupRecipe.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    style=\"display: flex; flex-direction: column; padding-left:5px; align-items:center\"\n    @wheel.prevent=\"mouseWheel($event)\"\n  >\n    <div class=\"pickupIcon\">\n      <pickup-icon v-bind:idx=\"idx\" @pickupClicked=\"addBag\" />\n    </div>\n\n    <input\n      type=\"number\"\n      min=\"0\"\n      max=\"99\"\n      style=\"width:30px\"\n      v-model=\"inputCount\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport PickupIcon from \"./PickupIcon.vue\";\n\nexport default defineComponent({\n  name: \"PickupCounter\",\n  components: {\n    PickupIcon,\n  },\n  props: {\n    idx: Number,\n    count: Number,\n  },\n\n  emits: [\"addBag\", \"update:count\"],\n\n  methods: {\n    addBag() {\n      this.$emit(\"addBag\", this.idx ?? 0);\n    },\n\n    mouseWheel(event: WheelEvent) {\n      if (event.deltaY > 0) {\n        this.inputCount -= 1;\n      } else if (event.deltaY < 0) {\n        this.inputCount += 1;\n      }\n    },\n  },\n\n  computed: {\n    inputCount: {\n      get(): number {\n        return this.count ?? 0;\n      },\n      set(value: number) {\n        if (value >= 0) {\n          this.$emit(\"update:count\", value);\n        }\n      },\n    },\n  },\n});\n</script>\n\n<style scoped>\n.pickupIcon:hover {\n  background-color: gray;\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\nimport PickupIcon from \"./PickupIcon.vue\";\n\nexport default defineComponent({\n  name: \"PickupCounter\",\n  components: {\n    PickupIcon,\n  },\n  props: {\n    idx: Number,\n    count: Number,\n  },\n\n  emits: [\"addBag\", \"update:count\"],\n\n  methods: {\n    addBag() {\n      this.$emit(\"addBag\", this.idx ?? 0);\n    },\n\n    mouseWheel(event: WheelEvent) {\n      if (event.deltaY > 0) {\n        this.inputCount -= 1;\n      } else if (event.deltaY < 0) {\n        this.inputCount += 1;\n      }\n    },\n  },\n\n  computed: {\n    inputCount: {\n      get(): number {\n        return this.count ?? 0;\n      },\n      set(value: number) {\n        if (value >= 0) {\n          this.$emit(\"update:count\", value);\n        }\n      },\n    },\n  },\n});\n","import { render } from \"./PickupCounter.vue?vue&type=template&id=28e9bd26&scoped=true\"\nimport script from \"./PickupCounter.vue?vue&type=script&lang=ts\"\nexport * from \"./PickupCounter.vue?vue&type=script&lang=ts\"\n\nimport \"./PickupCounter.vue?vue&type=style&index=0&id=28e9bd26&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-28e9bd26\"\n\nexport default script","<template>\n  <div style=\"display: flex; flex: 1\">\n    <div class=\"itemListPanel\">\n      <div\n        class=\"item\"\n        v-for=\"(value, id) in shownItems\"\n        :key=\"id\"\n        @mouseover=\"hoveredItem = id\"\n        @mouseout=\"hoveredItem = 0\"\n        @click=\"selectItem(id)\"\n        :style=\"getItemStyle(id)\"\n      >\n        <img :src=\"`./collectibles/${items[id].img}`\" height=\"64\" width=\"64\" />\n      </div>\n    </div>\n    <div class=\"shownRecipePanel\">\n      <div v-if=\"shownItem\">\n        {{ items[shownItem].name }}\n      </div>\n      <div v-if=\"shownItem\">\n        <img\n          :src=\"`./collectibles/${items[shownItem].img}`\"\n          height=\"64\"\n          width=\"64\"\n        />\n      </div>\n      <div\n        class=\"shownRecipeEntry\"\n        v-for=\"recipe in shownRecipes\"\n        :key=\"recipe\"\n      >\n        <div class=\"shownRecipe\">\n          <pickup-recipe\n            :idList=\"recipe\"\n            @click=\"recipeClicked(recipe, shownItem)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.itemListPanel {\n  padding-left: 3px;\n  padding-top: 3px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  flex: 1;\n  height: 90vh;\n  overflow: auto;\n  border: 5px solid gray;\n  border-right: 0;\n}\n\n.shownRecipePanel {\n  padding-top: 3px;\n  overflow-y: auto;\n  width: 150px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 0 0 auto;\n  height: 90vh;\n  border: 5px solid gray;\n  border-right: 0;\n}\n\n.shownRecipeEntry {\n  display: flex;\n  padding-top: 10px;\n}\n\n.shownRecipe {\n  background: gray;\n}\n\n.shownRecipe:hover {\n  background: #6a6;\n}\n\n.item:hover {\n  background: #6a6;\n}\n\n.item {\n  margin: 3px;\n  background: gray;\n}\n</style>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport PickupRecipe from \"./PickupRecipe.vue\";\nimport * as crafting from \"../crafting\";\nimport * as items from \"../items\";\n\ntype ItemRecipeMap = { [id: number]: number[][] };\n\nexport default defineComponent({\n  name: \"CraftableItems\",\n  components: {\n    PickupRecipe,\n  },\n  props: {\n    pickupCounts: Object as PropType<{ [n: number]: number }>,\n    pickupsInBag: Object as PropType<number[]>,\n    filter: { type: String, default: \"\" },\n    selectedItem: Number,\n  },\n\n  data() {\n    return {\n      hoveredItem: 0,\n    };\n  },\n\n  emits: [\"recipeClicked\", \"update:selectedItem\"],\n\n  methods: {\n    selectItem(id: string) {\n      this.$emit(\"update:selectedItem\", +id);\n    },\n\n    isItemInSearch(id: string): boolean {\n      if (!this.filter) {\n        return true;\n      }\n      let itemName = items.items[+id].name.toLowerCase();\n      if (itemName.search(this.filter.toLowerCase()) >= 0) {\n        return true;\n      }\n      return false;\n    },\n\n    getItemStyle(id: string) {\n      return {\n        borderStyle: \"solid\",\n        borderColor: this.selectedItem == +id ? \"green\" : \"transparent\",\n        filter: this.isItemInSearch(id) ? undefined : \"brightness(50%)\",\n      };\n    },\n\n    itemBorderColor(id: number) {\n      if (this.selectedItem == id) {\n        return \"green\";\n      }\n      return \"lightgray\";\n    },\n\n    recipeClicked(recipe: number[], item: number) {\n      this.$emit(\"recipeClicked\", recipe, item);\n    },\n  },\n\n  computed: {\n    items() {\n      return items.items;\n    },\n\n    itemRecipeMap(): ItemRecipeMap {\n      const map: ItemRecipeMap = {};\n\n      const combinations = crafting.getCombinations(\n        {\n          ...(this.pickupCounts ?? {}),\n        },\n        [...(this.pickupsInBag ?? [])]\n      );\n\n      for (const recipe of combinations) {\n        const item = crafting.craftItem([...recipe]);\n        if (item) {\n          map[item] = map[item] ?? [];\n          map[item].push(recipe);\n        }\n      }\n      return map;\n    },\n\n    shownItems(): ItemRecipeMap {\n      return this.itemRecipeMap;\n    },\n\n    shownItem(): number {\n      if (this.hoveredItem) return this.hoveredItem;\n      if (this.selectedItem && this.selectedItem in this.shownItems) {\n        return this.selectedItem;\n      }\n      return 0;\n    },\n\n    shownRecipes() {\n      const recipes: number[][] = [];\n\n      if (this.shownItems && this.shownItem in this.shownItems) {\n        for (let recipe of this.shownItems[this.shownItem]) {\n          recipes.push(recipe);\n        }\n      }\n\n      return recipes;\n    },\n  },\n});\n</script>\n","import * as d3 from \"d3\";\n\nexport interface Item {\n  name: string;\n  quality: number;\n  img: string;\n  description: string;\n}\n\nexport const items: { [id: number]: Item } = {};\n\nexport async function loadItems() {\n  console.log(\"loading items\");\n  const xmlItems = await d3.xml(\"./items.xml\");\n  for (const item of xmlItems.querySelectorAll(\"passive,active,familiar\")) {\n    items[Number(item.getAttribute(\"id\"))] = {\n      name: String(item.getAttribute(\"name\")),\n      img: String(item.getAttribute(\"gfx\")).toLowerCase(),\n      quality: 0,\n      description: String(item.getAttribute(\"description\")),\n    };\n  }\n\n  const xmlItemMetadata = await d3.xml(\"./items_metadata.xml\");\n  for (const item of xmlItemMetadata.querySelectorAll(\"item\")) {\n    const id = Number(item.getAttribute(\"id\"));\n    const quality = Number(item.getAttribute(\"quality\"));\n    if (id in items) {\n      items[id].quality = quality;\n    }\n  }\n}\n","import * as d3 from \"d3\";\nimport * as items from \"./items\";\n\nconst pickupIdxList = [\n  8,\n  1,\n  12,\n  15,\n  2,\n  9,\n  21,\n  22,\n  7,\n  3,\n  4,\n  5,\n  6,\n  18,\n  10,\n  11,\n  13,\n  14,\n  16,\n  19,\n  23,\n  20,\n  24,\n  25,\n  17,\n];\n\ninterface ItemPoolEntry {\n  id: number;\n  weight: number;\n  quality: number;\n}\n\nconst pickupShifts = [\n  [0x00000001, 0x00000005, 0x00000010],\n  [0x00000001, 0x00000005, 0x00000013],\n  [0x00000001, 0x00000009, 0x0000001d],\n  [0x00000001, 0x0000000b, 0x00000006],\n  [0x00000001, 0x0000000b, 0x00000010],\n  [0x00000001, 0x00000013, 0x00000003],\n  [0x00000001, 0x00000015, 0x00000014],\n  [0x00000001, 0x0000001b, 0x0000001b],\n  [0x00000002, 0x00000005, 0x0000000f],\n  [0x00000002, 0x00000005, 0x00000015],\n  [0x00000002, 0x00000007, 0x00000007],\n  [0x00000002, 0x00000007, 0x00000009],\n  [0x00000002, 0x00000007, 0x00000019],\n  [0x00000002, 0x00000009, 0x0000000f],\n  [0x00000002, 0x0000000f, 0x00000011],\n  [0x00000002, 0x0000000f, 0x00000019],\n  [0x00000002, 0x00000015, 0x00000009],\n  [0x00000003, 0x00000001, 0x0000000e],\n  [0x00000003, 0x00000003, 0x0000001a],\n  [0x00000003, 0x00000003, 0x0000001c],\n  [0x00000003, 0x00000003, 0x0000001d],\n  [0x00000003, 0x00000005, 0x00000014],\n  [0x00000003, 0x00000005, 0x00000016],\n  [0x00000003, 0x00000005, 0x00000019],\n  [0x00000003, 0x00000007, 0x0000001d],\n  [0x00000003, 0x0000000d, 0x00000007],\n  [0x00000003, 0x00000017, 0x00000019],\n  [0x00000003, 0x00000019, 0x00000018],\n  [0x00000003, 0x0000001b, 0x0000000b],\n  [0x00000004, 0x00000003, 0x00000011],\n  [0x00000004, 0x00000003, 0x0000001b],\n  [0x00000004, 0x00000005, 0x0000000f],\n  [0x00000005, 0x00000003, 0x00000015],\n  [0x00000005, 0x00000007, 0x00000016],\n  [0x00000005, 0x00000009, 0x00000007],\n  [0x00000005, 0x00000009, 0x0000001c],\n  [0x00000005, 0x00000009, 0x0000001f],\n  [0x00000005, 0x0000000d, 0x00000006],\n  [0x00000005, 0x0000000f, 0x00000011],\n  [0x00000005, 0x00000011, 0x0000000d],\n  [0x00000005, 0x00000015, 0x0000000c],\n  [0x00000005, 0x0000001b, 0x00000008],\n  [0x00000005, 0x0000001b, 0x00000015],\n  [0x00000005, 0x0000001b, 0x00000019],\n  [0x00000005, 0x0000001b, 0x0000001c],\n  [0x00000006, 0x00000001, 0x0000000b],\n  [0x00000006, 0x00000003, 0x00000011],\n  [0x00000006, 0x00000011, 0x00000009],\n  [0x00000006, 0x00000015, 0x00000007],\n  [0x00000006, 0x00000015, 0x0000000d],\n  [0x00000007, 0x00000001, 0x00000009],\n  [0x00000007, 0x00000001, 0x00000012],\n  [0x00000007, 0x00000001, 0x00000019],\n  [0x00000007, 0x0000000d, 0x00000019],\n  [0x00000007, 0x00000011, 0x00000015],\n  [0x00000007, 0x00000019, 0x0000000c],\n  [0x00000007, 0x00000019, 0x00000014],\n  [0x00000008, 0x00000007, 0x00000017],\n  [0x00000008, 0x00000009, 0x00000017],\n  [0x00000009, 0x00000005, 0x0000000e],\n  [0x00000009, 0x00000005, 0x00000019],\n  [0x00000009, 0x0000000b, 0x00000013],\n  [0x00000009, 0x00000015, 0x00000010],\n  [0x0000000a, 0x00000009, 0x00000015],\n  [0x0000000a, 0x00000009, 0x00000019],\n  [0x0000000b, 0x00000007, 0x0000000c],\n  [0x0000000b, 0x00000007, 0x00000010],\n  [0x0000000b, 0x00000011, 0x0000000d],\n  [0x0000000b, 0x00000015, 0x0000000d],\n  [0x0000000c, 0x00000009, 0x00000017],\n  [0x0000000d, 0x00000003, 0x00000011],\n  [0x0000000d, 0x00000003, 0x0000001b],\n  [0x0000000d, 0x00000005, 0x00000013],\n  [0x0000000d, 0x00000011, 0x0000000f],\n  [0x0000000e, 0x00000001, 0x0000000f],\n  [0x0000000e, 0x0000000d, 0x0000000f],\n  [0x0000000f, 0x00000001, 0x0000001d],\n  [0x00000011, 0x0000000f, 0x00000014],\n  [0x00000011, 0x0000000f, 0x00000017],\n  [0x00000011, 0x0000000f, 0x0000001a],\n];\n\nconst pickupValues = [\n  0x00000000, // 0 None\n\n  // Hearts\n  0x00000001, // 1 Red heart\n  0x00000004, // 2 Soul Heart\n  0x00000005, // 3 Black Heart\n  0x00000005, // 4 Eternal Heart\n  0x00000005, // 5 Gold Heart\n  0x00000005, // 6 Bone Heart\n  0x00000001, // 7 Rotten Heart\n\n  // Pennies\n  0x00000001, // 8 Penny\n  0x00000003, // 9 Nickel\n  0x00000005, // 10 Dime\n  0x00000008, // 11 Lucky Penny\n\n  // Keys\n  0x00000002, // 12 Key\n  0x00000005, // 13 Golden Key\n  0x00000005, // 14 Charged Key\n\n  // Bombs\n  0x00000002, // 15 Bomb\n  0x00000006, // 16 Golden Bomb\n  0x0000000a, // 17 Giga Bomb\n\n  // Batteries\n  0x00000002, // 18 Micro Battery\n  0x00000004, // 19 Lil' Battery\n  0x00000008, // 20 Mega Battery\n\n  // Usables\n  0x00000002, // 21 Card\n  0x00000002, // 22 Pill\n  0x00000004, // 23 Rune\n  0x00000004, // 24 Dice Shard\n  0x00000002, // 25 Cracked Key\n  0x00000001,\n];\n\nconst qualityBoundsList: [number, [number, number]][] = [\n  [34, [4, 4]],\n  [30, [3, 4]],\n  [26, [2, 4]],\n  [22, [1, 4]],\n  [18, [1, 3]],\n  [14, [1, 2]],\n  [8, [0, 2]],\n  [0, [0, 1]],\n];\n\nfunction rngShift(seed: number, shifts: number[]): number {\n  seed ^= (seed >>> shifts[0]) & 0xffffffff;\n  seed ^= (seed << shifts[1]) & 0xffffffff;\n  seed ^= (seed >>> shifts[2]) & 0xffffffff;\n  seed >>>= 0;\n  return seed;\n}\n\nconst itemPools: ItemPoolEntry[][] = [];\n\nfunction recurseCombinations(\n  availablePickups: { [n: number]: number },\n  currentRecipe: number[],\n  counter: number,\n  foundRecipes: number[][]\n): void {\n  if (currentRecipe.length == 8) {\n    foundRecipes.push([...currentRecipe]);\n  }\n\n  for (let i = counter; i < pickupIdxList.length; ++i) {\n    const pickupId = pickupIdxList[i];\n    if (pickupId in availablePickups && availablePickups[pickupId] > 0) {\n      availablePickups[pickupId] -= 1;\n      recurseCombinations(\n        availablePickups,\n        [...currentRecipe, pickupId],\n        i,\n        foundRecipes\n      );\n      availablePickups[pickupId] += 1;\n    }\n  }\n}\n\nexport function getCombinations(\n  availablePickups: { [n: number]: number },\n  startingPickups: number[]\n): number[][] {\n  const foundRecipes: number[][] = [];\n  recurseCombinations(availablePickups, startingPickups, 0, foundRecipes);\n  return foundRecipes;\n}\n\nexport async function loadPools() {\n  const xmlPools = await d3.xml(\"./itempools.xml\");\n  for (const xmlPool of xmlPools.querySelectorAll(\"Pool\")) {\n    const pool: ItemPoolEntry[] = [];\n    for (const item of xmlPool.querySelectorAll(\"Item\")) {\n      const id = Number(item.getAttribute(\"Id\"));\n      pool.push({\n        id,\n        weight: Number(item.getAttribute(\"Weight\")),\n        quality: items.items[id].quality,\n      });\n    }\n    itemPools.push(pool);\n  }\n}\n\nfunction getPoolWeights(recipe: number[]): [number, number][] {\n  const pickupCounts: { [n: number]: number } = {};\n\n  for (const pickupId of recipe) {\n    pickupCounts[pickupId] = (pickupCounts[pickupId] ?? 0) + 1;\n  }\n\n  const poolWeights: [number, number][] = [\n    [0, 1],\n    [1, 2],\n    [2, 2],\n    [3, (pickupCounts[3] ?? 0) * 10],\n    [4, (pickupCounts[4] ?? 0) * 10],\n    [5, (pickupCounts[6] ?? 0) * 5],\n    [8, (pickupCounts[5] ?? 0) * 10],\n    [9, (pickupCounts[25] ?? 0) * 10],\n    [12, (pickupCounts[7] ?? 0) * 10],\n  ];\n\n  let combined = 0;\n  for (const i of [1, 8, 12, 15]) {\n    combined += pickupCounts[i] ?? 0;\n  }\n  if (combined == 0) {\n    poolWeights.push([26, (pickupCounts[23] ?? 0) * 10]);\n  }\n\n  return poolWeights;\n}\n\nfunction getQualityBounds(\n  recipe: number[],\n  itemPoolIdx: number\n): [number, number] {\n  let totalValue = 0;\n  for (const pickupId of recipe) {\n    totalValue += pickupValues[pickupId];\n  }\n\n  if (itemPoolIdx >= 3 && itemPoolIdx <= 5) {\n    totalValue -= 5;\n  }\n\n  for (const qualityBounds of qualityBoundsList) {\n    if (totalValue > qualityBounds[0]) {\n      return qualityBounds[1];\n    }\n  }\n  return [0, 0];\n}\n\nconst recipeCache: Map<string, number> = new Map();\n\nfunction recipeToString(recipe: number[]): string {\n  return String.fromCharCode(...recipe);\n}\n\nexport function craftItem(recipe: number[]): number {\n  if (recipe.length != 8) {\n    return 0;\n  }\n\n  const sortedRecipe = [...recipe].sort((a, b) => a - b);\n  const cached = recipeCache.get(recipeToString(sortedRecipe));\n  if (cached) {\n    return cached;\n  }\n\n  let seed = 0x77777770;\n  for (const pickupId of sortedRecipe) {\n    seed = rngShift(seed, pickupShifts[pickupId]);\n  }\n\n  const poolWeights = getPoolWeights(recipe);\n  const itemWeights: { [id: number]: number } = {};\n  let totalWeight = 0;\n\n  for (const poolWeight of poolWeights) {\n    const itemPool = itemPools[poolWeight[0]];\n    const qualityBounds = getQualityBounds(recipe, poolWeight[0]);\n    for (const item of itemPool) {\n      if (item.quality < qualityBounds[0] || item.quality > qualityBounds[1])\n        continue;\n      itemWeights[item.id] =\n        (itemWeights[item.id] ?? 0) + item.weight * poolWeight[1];\n      totalWeight += item.weight * poolWeight[1];\n    }\n  }\n\n  seed = rngShift(seed, [1, 21, 20]);\n  const seedMultiplier = 2.3283061589829401e-10;\n\n  let target = seed * seedMultiplier * totalWeight;\n\n  for (const id in itemWeights) {\n    const weight = itemWeights[id];\n    target -= weight;\n    if (target < 0) {\n      recipeCache.set(recipeToString(sortedRecipe), +id);\n      return +id;\n    }\n  }\n  return 25;\n}\n","\nimport { defineComponent, PropType } from \"vue\";\nimport PickupRecipe from \"./PickupRecipe.vue\";\nimport * as crafting from \"../crafting\";\nimport * as items from \"../items\";\n\ntype ItemRecipeMap = { [id: number]: number[][] };\n\nexport default defineComponent({\n  name: \"CraftableItems\",\n  components: {\n    PickupRecipe,\n  },\n  props: {\n    pickupCounts: Object as PropType<{ [n: number]: number }>,\n    pickupsInBag: Object as PropType<number[]>,\n    filter: { type: String, default: \"\" },\n    selectedItem: Number,\n  },\n\n  data() {\n    return {\n      hoveredItem: 0,\n    };\n  },\n\n  emits: [\"recipeClicked\", \"update:selectedItem\"],\n\n  methods: {\n    selectItem(id: string) {\n      this.$emit(\"update:selectedItem\", +id);\n    },\n\n    isItemInSearch(id: string): boolean {\n      if (!this.filter) {\n        return true;\n      }\n      let itemName = items.items[+id].name.toLowerCase();\n      if (itemName.search(this.filter.toLowerCase()) >= 0) {\n        return true;\n      }\n      return false;\n    },\n\n    getItemStyle(id: string) {\n      return {\n        borderStyle: \"solid\",\n        borderColor: this.selectedItem == +id ? \"green\" : \"transparent\",\n        filter: this.isItemInSearch(id) ? undefined : \"brightness(50%)\",\n      };\n    },\n\n    itemBorderColor(id: number) {\n      if (this.selectedItem == id) {\n        return \"green\";\n      }\n      return \"lightgray\";\n    },\n\n    recipeClicked(recipe: number[], item: number) {\n      this.$emit(\"recipeClicked\", recipe, item);\n    },\n  },\n\n  computed: {\n    items() {\n      return items.items;\n    },\n\n    itemRecipeMap(): ItemRecipeMap {\n      const map: ItemRecipeMap = {};\n\n      const combinations = crafting.getCombinations(\n        {\n          ...(this.pickupCounts ?? {}),\n        },\n        [...(this.pickupsInBag ?? [])]\n      );\n\n      for (const recipe of combinations) {\n        const item = crafting.craftItem([...recipe]);\n        if (item) {\n          map[item] = map[item] ?? [];\n          map[item].push(recipe);\n        }\n      }\n      return map;\n    },\n\n    shownItems(): ItemRecipeMap {\n      return this.itemRecipeMap;\n    },\n\n    shownItem(): number {\n      if (this.hoveredItem) return this.hoveredItem;\n      if (this.selectedItem && this.selectedItem in this.shownItems) {\n        return this.selectedItem;\n      }\n      return 0;\n    },\n\n    shownRecipes() {\n      const recipes: number[][] = [];\n\n      if (this.shownItems && this.shownItem in this.shownItems) {\n        for (let recipe of this.shownItems[this.shownItem]) {\n          recipes.push(recipe);\n        }\n      }\n\n      return recipes;\n    },\n  },\n});\n","import { render } from \"./CraftableItems.vue?vue&type=template&id=008483ed\"\nimport script from \"./CraftableItems.vue?vue&type=script&lang=ts\"\nexport * from \"./CraftableItems.vue?vue&type=script&lang=ts\"\n\nimport \"./CraftableItems.vue?vue&type=style&index=0&id=008483ed&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"panel\">\n    History\n    <div class=\"recipeList\">\n      <div\n        v-for=\"recipeEntry in recipeHistory\"\n        :key=\"recipeEntry\"\n        class=\"recipeEntry\"\n      >\n        <img\n          :src=\"`./collectibles/${items[recipeEntry.item].img}`\"\n          height=\"64\"\n          width=\"64\"\n        />\n        <pickup-recipe :idList=\"recipeEntry.recipe\" />\n      </div>\n    </div>\n    <button v-if=\"recipeHistory.length\" @click=\"undo\">Undo</button>\n  </div>\n</template>\n\n<style scoped>\n.panel {\n  display: flex;\n  flex-direction: column;\n  width: 200px;\n  border: 5px solid gray;\n  align-items: center;\n  flex-shrink: 0;\n}\n.recipeList {\n  display: flex;\n  flex-direction: column;\n}\n\n.recipeEntry {\n  background: gray;\n  display: flex;\n  border-top: 5px solid lightgray;\n  align-self: center;\n}\n</style>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport PickupRecipe from \"./PickupRecipe.vue\";\nimport * as items from \"../items\";\n\nexport interface RecipeEntry {\n  recipe: number[];\n  craftBag: number[];\n  item: number;\n}\n\nexport default defineComponent({\n  components: {\n    PickupRecipe,\n  },\n\n  props: {\n    recipeHistory: Object as PropType<RecipeEntry>,\n  },\n\n  emits: [\"undo\", \"clear\"],\n\n  methods: {\n    undo() {\n      this.$emit(\"undo\");\n    },\n    clear() {\n      this.$emit(\"clear\");\n    },\n  },\n\n  computed: {\n    items() {\n      return items.items;\n    },\n  },\n});\n</script>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport PickupRecipe from \"./PickupRecipe.vue\";\nimport * as items from \"../items\";\n\nexport interface RecipeEntry {\n  recipe: number[];\n  craftBag: number[];\n  item: number;\n}\n\nexport default defineComponent({\n  components: {\n    PickupRecipe,\n  },\n\n  props: {\n    recipeHistory: Object as PropType<RecipeEntry>,\n  },\n\n  emits: [\"undo\", \"clear\"],\n\n  methods: {\n    undo() {\n      this.$emit(\"undo\");\n    },\n    clear() {\n      this.$emit(\"clear\");\n    },\n  },\n\n  computed: {\n    items() {\n      return items.items;\n    },\n  },\n});\n","import { render } from \"./CraftHistory.vue?vue&type=template&id=7ee7cabc&scoped=true\"\nimport script from \"./CraftHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./CraftHistory.vue?vue&type=script&lang=ts\"\n\nimport \"./CraftHistory.vue?vue&type=style&index=0&id=7ee7cabc&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-7ee7cabc\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport PickupRecipeVue from \"./components/PickupRecipe.vue\";\nimport PickupCounter from \"./components/PickupCounter.vue\";\nimport CraftableItems from \"./components/CraftableItems.vue\";\nimport { RecipeEntry } from \"./components/CraftHistory.vue\";\nimport CraftHistory from \"./components/CraftHistory.vue\";\nimport * as items from \"./items\";\nimport * as crafting from \"./crafting\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    PickupRecipeVue,\n    PickupCounter,\n    CraftableItems,\n    CraftHistory,\n  },\n\n  data() {\n    return {\n      craftingBag: [] as number[],\n      pickupCounts: {} as { [n: number]: number },\n      recipes: [] as number[][],\n      pickupCounters: [\n        [1, 2, 3, 4, 5, 6, 7],\n        [8, 9, 10, 11],\n        [12, 13, 14],\n        [15, 16, 17],\n        [18, 19, 20],\n        [21, 22, 23, 24, 25],\n      ],\n      recipeHistory: [] as RecipeEntry[],\n      selectedItem: 0,\n      searchFilter: \"\",\n    };\n  },\n\n  created() {\n    (async () => {\n      await items.loadItems();\n      await crafting.loadPools();\n    })().catch((e) => {\n      console.log(e);\n    });\n  },\n\n  methods: {\n    addHeart() {\n      this.craftingBag = [...this.craftingBag, 1];\n    },\n\n    addPenny() {\n      this.craftingBag = [...this.craftingBag, 8];\n    },\n\n    resetBag() {\n      this.craftingBag = [];\n    },\n\n    resetPickups() {\n      for (let id in this.pickupCounts) {\n        this.pickupCounts[id] = 0;\n      }\n    },\n\n    addBag(id: number) {\n      if (this.craftingBag.length < 8)\n        this.craftingBag = [...this.craftingBag, id];\n    },\n\n    craftedItem(recipe: number[]) {\n      return crafting.craftItem(recipe);\n    },\n\n    recipeClicked(recipe: number[], item: number) {\n      this.recipeHistory.push({ recipe, craftBag: this.craftingBag, item });\n      const pickupsToRemove = recipe.slice(this.craftingBag.length);\n      for (const pickup of pickupsToRemove) {\n        this.pickupCounts[pickup] -= 1;\n      }\n      this.craftingBag = [];\n    },\n\n    undo() {\n      const recipeEntry = this.recipeHistory.pop();\n      if (recipeEntry) {\n        recipeEntry.craftBag.forEach((n) => this.addBag(n));\n        const pickupsToAdd = recipeEntry.recipe.slice(\n          recipeEntry.craftBag.length\n        );\n        pickupsToAdd.forEach((n) => (this.pickupCounts[n] += 1));\n        this.selectedItem = recipeEntry.item;\n      }\n    },\n\n    clearHistory() {\n      this.recipeHistory = [];\n    },\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=e2b90062\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e2b90062&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PickupIcon.vue?vue&type=style&index=0&id=778eb0e0&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=e2b90062&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CraftHistory.vue?vue&type=style&index=0&id=7ee7cabc&scoped=true&lang=css\""],"sourceRoot":""}